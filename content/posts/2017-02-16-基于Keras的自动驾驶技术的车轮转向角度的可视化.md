---
layout: post
title: '基于Keras的自动驾驶技术的车轮转向角度的可视化'
date: 2017-02-16 07:15:00 +0800
category: from_cnblogs
slug: p20170216071500
---
<p>This post is about understanding how a self driving deep learning network decides to steer the wheel.</p>
<p>&nbsp;</p>
<p>NVIDIA published a <span style="text-decoration: underline;"><em>very interesting paper(https://arxiv.org/pdf/1604.07316.pdf),</em> that describes how a deep learning network can be trained to steer a wheel, given a 200x66 RGB image from the front of a car. <br /><span style="text-decoration: underline;"><em>This repository(https://github.com/SullyChen/Nvidia-Autopilot-TensorFlow) </em>shared
 a Tensorflow implementation of the network described in the paper, and 
(thankfully!) a dataset of image / steering angles collected from a 
human driving a car. <br />The dataset is quite small, and there are much larger datasets available like in the udacity challenge. <br />However
 it is great for quickly experimenting with these kind of networks, and 
visualizing when the network is overfitting is also interesting. <br />I ported the code to Keras, trained a (very over-fitting) network based on the NVIDIA paper, and made visualizations.<br /><br />I
 think that if eventually this kind of a network will find use in a real
 world self driving car, being able to debug it and understand its 
output will be crucial. <br />Otherwise the first time the network decides
 to make a very wrong turn, critics will say that this is just a black 
box we don&rsquo;t understand, and it should be replaced!<br /><br />First attempt : Treating the network as a black box - occlusion maps<br /><img style="width: auto ! important; height: auto ! important; visibility: visible ! important;" src="http://mmbiz.qpic.cn/mmbiz_jpg/6PqHI4vHibfW5jv56JrqBF0tliakbUwHOxibiaDxbl0h0B1E3ZX3bjgreVURVltxlKDmxuaGbF5yw4lHZ1hwia3JOicA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1" alt="" data-s="300,640" data-type="jpeg" data-src="http://mmbiz.qpic.cn/mmbiz_jpg/6PqHI4vHibfW5jv56JrqBF0tliakbUwHOxibiaDxbl0h0B1E3ZX3bjgreVURVltxlKDmxuaGbF5yw4lHZ1hwia3JOicA/0?wx_fmt=jpeg" data-ratio="0.5626373626373626" data-w="455" data-fail="0" /><br /><img style="width: auto ! important; height: auto ! important; visibility: visible ! important;" src="http://mmbiz.qpic.cn/mmbiz_jpg/6PqHI4vHibfW5jv56JrqBF0tliakbUwHOxGH7ySRv6uSfGMpAhsHW0ggZibWkHJZVFjU8at1yqdYwmYs6eUajUYeg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1" alt="" data-s="300,640" data-type="jpeg" data-src="http://mmbiz.qpic.cn/mmbiz_jpg/6PqHI4vHibfW5jv56JrqBF0tliakbUwHOxGH7ySRv6uSfGMpAhsHW0ggZibWkHJZVFjU8at1yqdYwmYs6eUajUYeg/0?wx_fmt=jpeg" data-ratio="0.5626373626373626" data-w="455" data-fail="0" /><br />The
 first thing we will try, won&rsquo;t require any knowledge about the network,
 and in fact we won&rsquo;t peak inside the network, just look at the output. <br />We&rdquo;l
 create an occlusion map for a given image, where we take many windows 
in the image, mask them out, run the network, and see how the regressed 
angle changed. <br />If the angle changed a lot - that window contains information that was important for the network decision. <br />We then can assign each window a score based on how the angle changed!<br /><br />We
 need to take many windows, with different sizes - since we don&rsquo;t know 
in advance the sizes of important features in the image.<br /><br />Now we can make nice effects like filtering the occlusion map, and displaying the focused area on top of a blurred image: <br /><img style="width: auto ! important; height: auto ! important; visibility: visible ! important;" src="http://mmbiz.qpic.cn/mmbiz_jpg/6PqHI4vHibfW5jv56JrqBF0tliakbUwHOxPibjdzZeXTjtdJnRbnx2micEzfzXm8cTWY23ErR6Xric0Y5PxCgnofygA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1" alt="" data-s="300,640" data-type="jpeg" data-src="http://mmbiz.qpic.cn/mmbiz_jpg/6PqHI4vHibfW5jv56JrqBF0tliakbUwHOxPibjdzZeXTjtdJnRbnx2micEzfzXm8cTWY23ErR6Xric0Y5PxCgnofygA/0?wx_fmt=jpeg" data-ratio="0.5626373626373626" data-w="455" data-fail="0" /><br /><br />链接(需翻墙)：<br />http://jacobcv.blogspot.jp/2016/10/visualizations-for-regressing-wheel.html<br /><br />代码链接：<br />https://github.com/jacobgil/keras-steering-angle-visualizations<br /><br />原文链接：<br />http://weibo.com/5501429448/EeBRKc9pl?ref=collection&amp;type=comment</span></span></p>